## Spring Boot 수강일지
- 본 내용은 유투브 namusori 체널의 SpringBoot 강의를 듣고 정리한 내용임.
- 더 자세한 내용은 해당 유투브를 찾아가서 들으면 쉽게 이해가 가능하게 설명되어있음.

***
### 2022-03-20
##### [2-1] RESTful Web Service의 이해
##### REST (Representational State Transfer)
- 웹 서비스 JAX-WS(Java Api for Web Services) 기술은 호출 당사자 사이에 엄격한 계약이 있을경우 적절한 선택이 될 수 있음.
- 개방형 서비스를 위한 API를 제공하려면 HTTP기술 기반인 JAX-RS(Java Api for Restful Services를 사용해야함.
- 관공서 등에서는 웹서비스를,  인터넷 제공 업체에서는 RESTful 서비스를 주로 사용한다.
- REST는 HTTP와 JSON으로 주로 통신

- REST는 총 [자원], [행위], [표현]으로 구성된다.
- (원칙 1)[자원] : 모든 리소스는 URI로 식별한다. : 서버와 클라이언트로 봤을때. 클라이언트에서 요청하는 자원들이 다양하게 존재할껀데, 각각의 리소스를 구분하는 방법이 바로 URI를 통한 식별이 되어야 한다.
- URL과 URI를 혼동할 수 있는데 URI가 더 큰 개념임
    - URI : 어느위치에 어떤 자료까지 포함하는 데이터
    - URL: 어느 위치 자체를 말함.


- (원칙 2)다중[표현] : 각 자원들은 JSON 혹은 XML과 같이 어떠한 형태로든 표현할 수 있어야 한다.
- (원칙 3)[행위] : 모든 리소스는 표준 HTTP 메서드로 접근/변경/생성/삭제 할 수 있어야 한다.
- (원칙 4) : 서버는 상태정보를 갖지 않는다. 클라이언트의 세션정보와 같은것을 서버에서 관리하지 않는 형태
***

### 2022-03-21
##### [2-2] RESTful API Naming
- 실용적인 RESTful 디자인의 첫번째 원칙은 간결하고 직관적인 기준 URL을 유지하는 것임.
- 기준 URL 설계는 API에서 가장 중요한 설계 행동유도겅(affordance) 임.
- 행동유도성은 가이드 문서가 필요없는 설계재산임.( 직관적 설계 )

##### 명사와 동사
- 자원별로 두개의 기준 url을 사용함. 
- 기준 url에는 동사를 두지 않음.
- 컬렉션이나 요소들을 다룰때는 HTTP 메소드를 사용함.
- 목록을 위한 URL : /articles
- 목록 중 특정 개체를 위한 URL : /articles/1234

- HTTP 메서드에 따른 기능 분류
- POST : CREATE
- GET : READ
- PUT : UPDATE
- DELETE : DELETR
##### [2-3] RESTful WebService 구현(1)
- 실습.
***
### 2022-03-22
#### [2-4] RESTful WebService 구현(2)
- DI를 하는 세가지 방법
  1. autiwired
  2. 생성자를 통한 주입
  3. Lombok의 @RequiredArgsConstructor (final 필드에만 주입 가)
***
### 2022-03-24
#### [2-5] RESTful WebService 구현(3)
- 테스트 기능 추가, 스프링부트에서의 단위테스트
- beforeEach, afterEach 활용
***
### 2022-03-25
#### [2-6] RESTful WebService 구현(4)
- 궁금증 : Lombok을 써서 생성자를 주입하는거랑 @Autowired로 하는거랑 차이가 뭔지? 뭐가 더 좋은지? 
- 왜 롬복이 나와야 했는지?
#### [2-7] RESTful WebService 구현(5)
- 컨트롤러 클래스 구현에 따른 단위테스트 추가 구현
- 단위테스트 구현 시 추후 메이븐 패키징이 진행될때 해당 단위테스트들이 자동으로 실행되어 오류나는 프로그램 수정을 미연에 방지할 수 있음.
#### [3-1] 모놀리스 아키텍쳐
- 모든 업무 로직을 하나의 애플리케이션 형태로 묶어 서비스 하는 형태를 뜻함.
- 예) 쇼핑몰 : 연관된 기능들을 하나의 패키지로 묶어서 제공하는 형태 (지금 내가 만들고있는거..)
- 단점이 확연함.
  - 단점 : 규모가 커지면 커질수록 기능수정에 기간이 더 걸림.
- 규모가 커질수록 개발 및 유지보수 배포에 이르기까지 많은 문제점이 생기는데, 
- 단일코드 베이스는 개발팀의 분리부터 그에 대한 관리, 배포까지 시간이 흐를수록 복잡도 증가함.
- 전체 코드에 대한 이해도는 떨어지고 하위 기능으로 내려갈수록 코드의 복잡성 증대.
- 새로운 기술의 적용또한 전체 어플리케이션이 영향을 받기 때문에 쉽게 반영할 수 없음.
- 이러한 단점을 대비하기 위해 나온것이 SOA (Service Oriented Application),
  - 별도의 서비스들이 독립적으로 작성되어 소스저장소에 부여 배포.
  - 다른 서비스에서 특정 기능이 추가되어도 다른 서비스에 기능적 영향이 없음
  - SOAP를 통해서 서비스간 서로 통신하며 이를위해선 ESP라는 별도의 미들웨어 소프트웨어를 필요로함.
- SOA와 Microservice는 개념적으로 큰 차이가 없음.
  - SOA 는 SOAP로 통신하는 방식이라면 Microservice는 REST방식으로 통신함.
***
### 2022-03-26
#### [3-2] 마이크로서비스 아키텍쳐의 이해
- 마이크로서비스는 기존 하나의 대규모 애플리케이션을 개발하는 형식이 아닌 소규모의 독립적 구성요소로 구분하개발하는 방식
- 하나의 마이크로서비스는 독립적으로 디자인, 개발, 배치, 관리되는 비즈니스 기능 하나를 제공하는 형태.
- 각각의 서비스의 수정을 하더라도 결합도가 낮아서 관리에 용이함.
- 클라우드 네이티브 환경에서의 개발이 어떤 의미인지, 도커, 쿠버네티스와 같은 내용또한 반드시 알아야 한다.
- 장점 :
  - 작은 코드베이스를 통한 관리 용이
  - 개별적 컴포넌트 단위의 스케일 조정
  - polyglot한 환경을 가질 수 있음
  - 결함을 고립하여 전체 시스템 다운 방지
  - 동시에 작업하는 더 작은 개발팀 구성 가능
  - 독립적인 배포 가능
- 단점 :
  - 서비스간의 일관성(ACID) 가지기 어려움
  - 분산환경이라 디버깅 및 추적이 어려움
  - End to End 테스트의 필요성 증가
  - 애플리케이션 개발 및 배포방법(CI/CD)방법이 매우 중요해짐
  - 서비스간 호출에 대한 커뮤니케이션 비용 증가
#### [3-3] 스프링 클라우드의 이해
- API 게이트웨이에 대한 이해가 필요함
- 하나의 클라이언트가 각각의 서비스로 접근하는 MSA의 경우 몇가지 이슈가 생김
  - 각 이슈의 단점과 해결책은 다음과 같음
    1. 다수의 필요한 서비스를 어떻게 찾아야 하는가? : 서비스 디스커버리 (Eureka)
    2. 사용하기 위한 다수 서비스의 인스턴스를 어떻게 결정해야 하는가? : 클라이언트-사이드 로드벨런싱 (Ribbon)
    3. 개별적인 서비스가 응답하지 않을때 어떤 일이 발생하는가? : 결함허용 (Circuit-Breaker/Hystrix)
    4. 보안, 속도제한과 같은 서비스 접근을 어떻게 제어하는가? : 서비스보안  (OAuth2)
    5. 다수의 서비스는 서로 어떻게 커뮤니케이션 하는가? : HTTP/메시징 (Feign/Spring Cloud Stream)
    6. 서비스간 ACID는 어떻게 달성하는가? : CQRS (Conductor/Camel/...)
- API GATEWAY가 해결할 수 있음(Edge Server)
- 클라이언트는 게이트웨이를 통하여 각각의 API에 접근함
- 해당 게이트웨이중 대표적인게 Zull 1.0, 2.0, Spring Cloud Gateway가 있음.
##### Spring Cloud 
- cloud-native 패턴 중 몇가지에 집중하여 다양한 라이브러리를 제공하는 Spring Boot를 확장함.
- 다수의 서브 프로젝트가 있고, 이는 Cloud-native 애플리케이션을 위한 솔루션을 제공함.
- 분산 시스템에서 일반적인 패턴을 빠르게 조합할 수 있도록 해줌
- Netflix OSS는 넷플릭스에서 제공하는 MSA 전환기술들임. 일반적으로 스프링 클라우드 기술에는 해당 기술들이 포함되는 경우가 많음.
***
#### [3-4] Spring Cloud config의 이해
- 스프링 클라우드에서 가장 중요한것은 분산된 서버 환경서비스에 대한 설정과 관리임.
- 스프링 클라우드 컨피그는 분산되어있는 서비스의 설정을 관리할 수 있는 서버와 클라이언트를 제공함.
- 스프링 클라우드 컨피그 서버를 구성하여 각각의 마이크로 서비스들이 이를 통해 서비스 환경정보를 받아와 통일성을 유지한다.
- 각각의 마이크로서비스들이 갖는 환경정보를 어디에 두고 구성하느냐를 정하는것이 최 우선 해야 할 일.
- 해당 환경정보들은 깃을 이용할수도 있고, 각각의 파일디렉토리를 작성하여 해당 정보를 받아오도록 만들수도 있음.
***
## [마무리]
- 해당 강의를 마지막으로 클라우드 서비스 환경에 대한 이해를 조금 더 한 뒤 다시 실습을 진행햘 예정이다. 해당 강의는 여기서 마무리...